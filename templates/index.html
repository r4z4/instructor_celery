{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Register{% endblock %}</h1>
{% endblock %}

{% block content %}
  <h2>Example 2: Long running task with progress updates</h2>
  <!--<button onclick="start_long_task();">Start Long Calculation</button><br><br>-->
  <button id="start-bg-job">Start Long Calculation</button><br><br>
  <div id="progress"></div>
  <table> 
    <thead> 
      <tr> 
        <th>ID</th> 
        <th>Name</th> 
        <th>Price</th> 
        <th>Actions</th> 
      </tr> 
    </thead> 
    <tbody> 
      {% for row in data %} 
      <tr> 
        <td>{{ row.id }}</td> 
        <td>{{ row.name }}</td> 
        <td>{{ row.rgb }}</td> 
        <td> 
          <form action="/update" method="post"> 
            <input type="hidden" name="id" value="{{ row[0] }}"> 
            <input type="text" name="name" value="{{ row[1] }}"> 
            <input type="text" name="price" value="{{ row[2] }}"> 
            <input type="submit" value="Update"> 
          </form> 
          <form action="/delete" method="post"> 
            <input type="hidden" name="id" value="{{ row[0] }}"> 
            <input type="submit" value="Delete"> 
          </form> 
        </td> 
      </tr> 
      {% endfor %} 
    </tbody> 
  </table> 
  <h2>Create a new product</h2> 
  <form action="/create" method="post"> 
    <input type="text" name="name" placeholder="Name"> 
    <input type="text" name="price" placeholder="Price"> 
    <input type="submit" value="Create"> 
  </form> 
{% endblock %}